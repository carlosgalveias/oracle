"use strict"
define("oracle/app",["exports","oracle/resolver","ember-load-initializers","oracle/config/environment"],function(e,t,r,i){Object.defineProperty(e,"__esModule",{value:!0})
var o=Ember.Application.extend({modulePrefix:i.default.modulePrefix,podModulePrefix:i.default.podModulePrefix,Resolver:t.default});(0,r.default)(o,i.default.modulePrefix),e.default=o}),define("oracle/controllers/application",["exports","oracle/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({waiting:!0,answer:null,model:{},hiddenSizes:null,generator:null,phraseSize:100,solver:null,wordToIndex:[],indexToWord:[],vocab:[],pplList:[],tickIter:0,maxWords:100,message:"",sample:".",sampleSoftmaxTemperature:.5,loadModel:function(e){for(var t in console.log(e),this.hiddenSizes=e.hiddenSizes,this.generator=e.generator,this.phraseSize=e.phraseSize,e.model)if(e.model.hasOwnProperty(t)){var r=e.model[t]
this.model[t]=new R.Mat(1,1),this.model[t].fromJSON(r)}for(var t in this.solver=new R.Solver,this.solver.decay_rate=e.solver.decay_rate,this.solver.smooth_eps=e.solver.smooth_eps,this.solver.step_cache={},e.solver.step_cache)if(e.solver.step_cache.hasOwnProperty(t)){r=e.solver.step_cache[t]
this.solver.step_cache[t]=new R.Mat(1,1),this.solver.step_cache[t].fromJSON(r)}this.wordToIndex=e.wordToIndex,this.indexToWord=e.indexToWord,this.vocab=e.vocab,this.pplList=[],this.tickIter=0},forwardIndex:function(e,t,r,i){var o=e.rowPluck(t.Wil,r)
if("rnn"===this.generator)var a=R.forwardRNN(e,t,this.hiddenSizes,o,i)
else a=R.forwardLSTM(e,t,this.hiddenSizes,o,i)
return a},predictSentence:function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=1)
for(var i=new R.Graph(!1),o=[],a={};;){var n=0===o.length?0:this.wordToIndex[o[o.length-1]],l=this.forwardIndex(i,e,n,a)
a=l
var s=l.o
if(1!==r&&t)for(var d=0,c=s.w.length;d<c;d++)s.w[d]/=r
var u=R.softmax(s)
if(t)n=R.samplei(u.w)
else n=R.maxi(u.w)
if(0===n)break
if(o.length>this.maxWords)break
var f=this.indexToWord[n]
o.push(f)}return o},init:function(){var e=this
$.getJSON(t.default.rootURL+"assets/data/en.json",function(t){e.loadModel(t)})},getPrediction:function(){var e=this,t=this.predictSentence(this.model,!0,this.sampleSoftmaxTemperature)
this.set("waiting",!1)
for(var r="",i=500,o=function(){var o=t[a],n=r
console.log("|"+o+"|"),o.match(/[\.,:;\?\(\)]/)?n+=o:n+=" "+o,Ember.run.later(function(){e.set("message",n)},i),i+=200,r=n},a=0;a<t.length;a++)o()
Ember.run.later(function(){e.set("message",null),e.set("waiting",!0),e.set("")},2e4)},actions:{ask:function(){this.getPrediction(!0)}}})}),define("oracle/helpers/app-version",["exports","oracle/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=o
var i=t.default.APP.version
function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return t.hideSha?i.match(r.versionRegExp)[0]:t.hideVersion?i.match(r.shaRegExp)[0]:i}e.default=Ember.Helper.helper(o)}),define("oracle/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("oracle/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("oracle/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","oracle/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0})
var i=void 0,o=void 0
r.default.APP&&(i=r.default.APP.name,o=r.default.APP.version),e.default={name:"App Version",initialize:(0,t.default)(i,o)}}),define("oracle/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("oracle/initializers/data-adapter",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"data-adapter",before:"store",initialize:function(){}}}),define("oracle/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("oracle/initializers/export-application-global",["exports","oracle/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var r
if("undefined"!=typeof window)r=window
else if("undefined"!=typeof global)r=global
else{if("undefined"==typeof self)return
r=self}var i,o=t.default.exportApplicationGlobal
i="string"==typeof o?o:Ember.String.classify(t.default.modulePrefix),r[i]||(r[i]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[i]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("oracle/initializers/injectStore",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"injectStore",before:"store",initialize:function(){}}}),define("oracle/initializers/store",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"store",after:"ember-data",initialize:function(){}}}),define("oracle/initializers/transforms",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"transforms",before:"store",initialize:function(){}}}),define("oracle/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("oracle/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("oracle/router",["exports","oracle/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL})
r.map(function(){}),e.default=r}),define("oracle/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("oracle/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"jl51z88t",block:'{"symbols":[],"statements":[[0,"  "],[6,"div"],[9,"class","oracle-answer"],[7],[0,"\\n    "],[6,"h1"],[9,"class","h1-oracle-answer"],[7],[1,[18,"message"],false],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["waiting"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","oracle"],[7],[0,"\\n    "],[6,"h1"],[9,"class","h1-oracle"],[7],[0,"The Oracle"],[8],[0,"\\n    "],[6,"button"],[9,"class","oracle-input info"],[9,"name","oracle"],[3,"action",[[19,0,[]],"ask"]],[7],[0,"Click"],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"div"],[7],[0,"\\n "],[6,"div"],[9,"class","homepage-hero-module"],[7],[0,"\\n    "],[6,"div"],[9,"class","video-container"],[7],[0,"\\n      "],[6,"div"],[9,"class","filter"],[7],[8],[0,"\\n      "],[6,"video"],[9,"autoplay",""],[9,"loop",""],[9,"class","fillWidth"],[9,"width","100%"],[7],[0,"\\n        "],[6,"source"],[10,"src",[26,[[18,"rootURL"],"assets/video/bg.mp4"]]],[9,"type","video/mp4"],[7],[8],[0,"Your browser does not support the video tag. I suggest you upgrade your browser.\\n        "],[6,"source"],[10,"src",[26,[[18,"rootURL"],"assets/video/bg.webm"]]],[9,"type","video/webm"],[7],[8],[0,"Your browser does not support the video tag. I suggest you upgrade your browser.\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0," \\n"],[8]],"hasEval":false}',meta:{moduleName:"oracle/templates/application.hbs"}})}),define("oracle/config/environment",[],function(){try{var e="oracle/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(unescape(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(t){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("oracle/app").default.create({name:"oracle",version:"0.0.0+cb431948"})
